<html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><meta name=monetization content=$ilp.uphold.com/zDFj9FWE4m6e><style>body{user-select:none;background-color:#e9e9e1;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAM9aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4NEI3Q0MyOEExNDExRTdBNjA0RTNCMTA0QkQ4NTU3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4NEI3Q0MzOEExNDExRTdBNjA0RTNCMTA0QkQ4NTU3Ij4NCiAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4NEI3Q0MwOEExNDExRTdBNjA0RTNCMTA0QkQ4NTU3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM4NEI3Q0MxOEExNDExRTdBNjA0RTNCMTA0QkQ4NTU3IiAvPg0KICAgIDwvcmRmOkRlc2NyaXB0aW9uPg0KICA8L3JkZjpSREY+DQo8L3g6eG1wbWV0YT4NCjw/eHBhY2tldCBlbmQ9InIiPz7DjRUZAAAAOElEQVQ4T2O8d+8eAyWACUqTDahrwKePH/+DMJRLFKCuC/j4+RlBGMolCgyyQCQHjBowDAxgYAAAieQKuj4KC0oAAAAASUVORK5CYII=);font-family:'Courier New',Courier,monospace;overflow:hidden}.hide{display:none!important}.spacebar{display:inline!important;background:#eff2dd;background:linear-gradient(180deg,#eff2dd 0,#b1b495 100%);border:2px solid #483d21;border-bottom-width:5px;color:#483d21;border-radius:4px;padding:0;padding-right:30px;margin-right:5px}#game{max-width:1000px;margin:auto;overflow:hidden}#footer{position:fixed;padding:5px;left:0;bottom:0;width:100%;background-color:#483d21;color:#f9fbb2;text-align:center;font-size:.8rem}#footer a{color:#f9fbb2}#counter{text-align:center;font-size:8rem;color:#483d21;height:8rem;font-weight:700}#counter span{display:block;text-align:center}#per_second{font-size:1.5rem;text-align:center;margin-bottom:1rem;color:#483d21}.sbs{display:block;font-size:1.2rem;color:#fff;text-align:center;text-decoration:none;font-weight:700;letter-spacing:15px;padding-top:40px;padding-bottom:10px}.sb1{border:5px solid #483d21;border-bottom-width:25px;color:#8a7d5a;border-radius:15px;transition:transform 80ms ease-in;background:#eff2dd;background:linear-gradient(180deg,#eff2dd 0,#b1b495 100%)}.sb1:hover{transition:transform 80ms ease-in;color:#483d21}.sb1:active,.sb_active{border-color:#483d21;border-bottom-width:15px;padding-top:50px;transform:scaleX(90%) scaleY(90%);transition:transform 10ms ease-in}#items{margin-bottom:0;list-style:none;margin-bottom:0;margin-top:1rem;padding:10px;overflow-y:auto}.item{display:block;border:1px solid #483d21;border-radius:5px;margin:0;margin-bottom:15px;padding:15px;opacity:.5;background-color:#e9e9e1}.item_last_child{margin-bottom:80px}.item span{display:block}.item_buyable{opacity:1;background:#fcffe5;background:linear-gradient(180deg,#fcffe5 0,#e5e8d1 100%)}.item_buyable:hover{background:#feffdb;background:linear-gradient(180deg,#feffdb 0,#f9fbb2 100%)}.item_buyable:active{background:#dfe3c0;background:linear-gradient(180deg,#dfe3c0 0,#b7ba9c 100%)}.ititle{font-size:1.5rem;margin-top:0}.idesc{font-size:1rem}.cost{margin-top:15px}.icost{display:inline!important}.ilvl{margin-top:0;font-size:3rem;float:right;margin-top:auto;margin-bottom:auto}._ilvl{display:inline!important;font-size:1rem}.particle{width:auto;position:absolute;pointer-events:none;left:0;right:0}.score{font-weight:700;font-size:1.3rem;color:483D21;z-index:100}.spacebar_particle{pointer-events:none;position:absolute;left:0;top:0;z-index:-100;width:5px;height:15px}</style><title>SPACEBAR CLICKER</title></head><body><div id=game><div id=header><div id=counter><span>0</span></div><div id=per_second>0</div><div class=sbc><div id=sb class="sbs sb1">SPACEBAR</div></div></div><ul id=items><li id=it class=item><span class=ilvl>%4</span><h1 class=ititle>%1</h1><span class=idesc>%2</span><div class=cost><span class=spacebar></span><span class=icost>%3</span></div></li></ul></div><div id=footer>a game by <a href=https://bruno.croci.me/ >CrociDB</a> | <a href=javascript:game.resetGameSure();>reset game</a></div><script>function SfxrParams(){this.setSettings=function(r){for(var a=0;a<24;a++)this[String.fromCharCode(97+a)]=r[a]||0;this.c<.01&&(this.c=.01);var t=this.b+this.c+this.e;if(t<.18){var e=.18/t;this.b*=e,this.c*=e,this.e*=e}}}function SfxrSynth(){var r,a,t,e,s,n,i,h,f,c,o,v;this._params=new SfxrParams,this.reset=function(){var r=this._params;e=100/(r.f*r.f+.001),s=100/(r.g*r.g+.001),n=1-r.h*r.h*r.h*.01,i=-r.i*r.i*r.i*1e-6,r.a||(o=.5-r.n/2,v=5e-5*-r.o),h=1+r.l*r.l*(r.l>0?-.9:10),f=0,c=1==r.m?0:(1-r.m)*(1-r.m)*2e4+32},this.totalReset=function(){this.reset();var e=this._params;return r=e.b*e.b*1e5,a=e.c*e.c*1e5,t=e.e*e.e*1e5+12,3*((r+a+t)/3|0)},this.synthWave=function(u,b){var w=this._params,m=1!=w.s||w.v,y=w.v*w.v*.1,g=1+3e-4*w.w,k=w.s*w.s*w.s*.1,S=1+1e-4*w.t,l=1!=w.s,p=w.x*w.x,d=w.g,x=w.q||w.r,A=w.r*w.r*w.r*.2,q=w.q*w.q*(w.q<0?-1020:1020),M=w.p?32+((1-w.p)*(1-w.p)*2e4|0):0,_=w.d,U=w.j/2,j=w.k*w.k*.01,C=w.a,P=r,R=1/r,W=1/a,z=1/t,B=5/(1+w.u*w.u*20)*(.01+k);B>.8&&(B=.8),B=1-B;for(var D,E,F,G,H,I,J=!1,K=0,L=0,N=0,O=0,Q=0,T=0,V=0,X=0,Y=0,Z=0,$=new Array(1024),rr=new Array(32),ar=$.length;ar--;)$[ar]=0;for(ar=rr.length;ar--;)rr[ar]=2*Math.random()-1;for(ar=0;ar<b;ar++){if(J)return ar;if(M&&++Y>=M&&(Y=0,this.reset()),c&&++f>=c&&(c=0,e*=h),(e*=n+=i)>s&&(e=s,d>0&&(J=!0)),E=e,U>0&&(Z+=j,E*=1+Math.sin(Z)*U),(E|=0)<8&&(E=8),C||((o+=v)<0?o=0:o>.5&&(o=.5)),++L>P)switch(L=0,++K){case 1:P=a;break;case 2:P=t}switch(K){case 0:N=L*R;break;case 1:N=1+2*(1-L*W)*_;break;case 2:N=1-L*z;break;case 3:N=0,J=!0}x&&((F=0|(q+=A))<0?F=-F:F>1023&&(F=1023)),m&&g&&((y*=g)<1e-5?y=1e-5:y>.1&&(y=.1)),I=0;for(var tr=8;tr--;){if(++V>=E&&(V%=E,3==C))for(var er=rr.length;er--;)rr[er]=2*Math.random()-1;switch(C){case 0:H=V/E<o?.5:-.5;break;case 1:H=1-V/E*2;break;case 2:H=.225*(((H=1.27323954*(G=6.28318531*((G=V/E)>.5?G-1:G))+.405284735*G*G*(G<0?1:-1))<0?-1:1)*H*H-H)+H;break;case 3:H=rr[Math.abs(32*V/E|0)]}m&&(D=T,(k*=S)<0?k=0:k>.1&&(k=.1),l?(Q+=(H-T)*k,Q*=B):(T=H,Q=0),O+=(T+=Q)-D,H=O*=1-y),x&&($[X%1024]=H,H+=$[(X-F+1024)%1024],X++),I+=H}I*=.125*N*p,u[ar]=I>=1?32767:I<=-1?-32768:32767*I|0}return b}}var synth=new SfxrSynth;window.jsfxr=function(r){synth._params.setSettings(r);var a=synth.totalReset(),t=new Uint8Array(4*((a+1)/2|0)+44),e=2*synth.synthWave(new Uint16Array(t.buffer,44),a),s=new Uint32Array(t.buffer,0,44);s[0]=1179011410,s[1]=e+36,s[2]=1163280727,s[3]=544501094,s[4]=16,s[5]=65537,s[6]=44100,s[7]=88200,s[8]=1048578,s[9]=1635017060,s[10]=e,e+=44;for(var n=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="data:audio/wav;base64,";n<e;n+=3){var f=t[n]<<16|t[n+1]<<8|t[n+2];h+=i[f>>18]+i[f>>12&63]+i[f>>6&63]+i[63&f]}return h};const gId=e=>document.getElementById(e),qSel=e=>document.querySelector(e),qSelA=e=>document.querySelectorAll(e),cEl=e=>{let t=document.createElement("template");return t.innerHTML=e,t.content.firstChild},repltxt=(e,t)=>(t.forEach((t,n)=>e=e.replace("%"+(n+1),t)),e),clamp=(e,t,n)=>Math.min(Math.max(e,t),n),clamp01=e=>clamp(e,0,1),lerp=(e,t,n)=>e+(t-e)*clamp01(n),NUBMER_FORMATS=["M","B","T","Q","Qui","S","Sp","O","N","D","U","Duo","Tre","Qua","Qi","Sx","Sep","Oct","Nov","Dec","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","ba","bb","bc","bd","be","bf","bg","bh","bi","bj","bk","bl","bm","bn","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","ca","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv"],fmt=(e,t)=>(t+e).slice(-t.length),nfmt=e=>Math.floor(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nfmt1=e=>e.toFixed(3).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nfmt2=e=>{if(e<1e6)return nfmt(e);let t=1e6;for(let n in NUBMER_FORMATS)if(e<(t*=1e3))return nfmt1(e/(t/1e3))+NUBMER_FORMATS[n]},randnum=(e=1)=>Math.random()*e,randint=e=>Math.round(randnum(e)),randsig=()=>randint(10)%2==0?1:-1,randweight=(e,t)=>{let n=e.map(t).reduce((e,t)=>e+t),a=randint(n);return e.filter(e=>(a-=t(e))<=0)[0]},randweightsqrd=(e,t)=>randweight(e,e=>t(e)*t(e)),co=e=>{let t=e();const n=()=>{let e=t.next();e.done||setTimeout(n,1e3*e.value)};n()},mobile=()=>navigator.userAgent.match("Mobile"),audio_player=[new Audio,new Audio];let audio_index=0,AUDIO=!0;const playaudio=e=>{AUDIO&&(audio_index=(audio_index+1)%audio_player.length,audio_player[audio_index].pause(),audio_player[audio_index].src=e[Math.floor(Math.random()*e.length)],audio_player[audio_index].play())};let ITEMS=[{name:"Monkey",description:"A monkey to help you press space. It doesn't really know what a <i>spacebar</i> is, so it will just bash the whole keyboard and eventually hit it. It succeeds every <b>%v seconds</b>.",cost:30,initial_value:.2,lvl:0,cost_func:e=>1.1*e,value_func:e=>e,getDescription:e=>e.description.replace("%v",1/e.initial_value)},{name:"Boomer Mom",description:"A boomer mom who can't barely open a Word document to help you press it. Every mom can press it <b>%vx a second</b>!",cost:120,initial_value:3,lvl:0,cost_func:e=>1.3*e,value_func:e=>1*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Gen Z Kid",description:"A Generation Z kid will help you press it. They haven't ever seen a keyboard before, but they're good at scrolling short vertical videos online, so they do it <b>%vx a second</b>!",cost:500,initial_value:20,lvl:0,cost_func:e=>1.4*e,value_func:e=>1*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Keyboard Upgrade",description:"Every upgrade will <b>DOUBLE</b> your own hits.",cost:6e3,multiplier:2,lvl:0,cost_func:e=>2*e,getDescription:e=>e.description},{name:"Angry Influencer",description:"Angry influencer whose computer crashed and they're now bashing their heads against the keyboard. The more influencer you get, the faster they can hit it, because they can't stand competition. The next one will give <b>%vx per second</b>.",cost:1e4,initial_value:150,lvl:0,cost_func:e=>1.5*e,value_func:e=>1.2*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"MOBA Gamer",description:"MOBA gamers are fast at pressing keys and they play well in teams. New gamer will hit it <b>%vx per second</b>.",cost:2e5,initial_value:600,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.25*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Homemade Pressing Robot",description:"Just a simple robot made out of a broken robot vacuum cleaner that can press the key at the impressive rate of <b>%vx per second</b>!",cost:8e5,initial_value:3500,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.25*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Laser Machine Gun",description:"A machine gun that shoots a lot of laser blasts at the spacebar, at a rate of <b>%vx per second</b>!",cost:2e6,initial_value:25e3,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.3*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Nuclear Blast Gun",description:"No one knows how it works except for the girl that created it. But the rate is pretty high at <b>%vx per second</b>!",cost:1e7,initial_value:1e5,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.3*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Alien Tech Key Pressing Machine",description:"Unlock the secrets of advanced alien technology with this enigmatic clicker. Its workings remain a mystery to all but its ingenious creator. Harness its power to click the spacebar at an astounding rate of <b>%vx times a second</b>!",cost:8e7,initial_value:1e6,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.3*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Planet Catcher",description:"Capture planets and use their gravitational force to click the spacebar <b>%vx times a second</b>, harnessing the power of entire worlds.",cost:7e12,initial_value:10e9,lvl:0,cost_func:e=>1.4*e,value_func:e=>1.3*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Black Hole Bomb",description:"Unleash the destructive power of a miniature black hole, obliterating the spacebar with an incredible rate of <b>%vx times a second</b>.",cost:1.7e15,initial_value:4e12,lvl:0,cost_func:e=>1.45*e,value_func:e=>1.35*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Galaxy Guzzler",description:"Consume entire galaxies to fuel your spacebar clicking, achieving an astronomical rate of <b>%vx clicks per second</b> and devouring the very fabric of the cosmos.",cost:5e16,initial_value:14e13,lvl:0,cost_func:e=>1.45*e,value_func:e=>1.35*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))},{name:"Quantum Space Manipulator",description:"Harness the quantum realm to manipulate space itself and click the spacebar at an astounding rate of <b>%vx times a second</b>!",cost:2.5e19,initial_value:5e14,lvl:0,cost_func:e=>1.45*e,value_func:e=>1.35*e,getDescription:e=>e.description.replace("%v",nfmt(e.value))}];!function(){for(let e in ITEMS)ITEMS[e].value=ITEMS[e].initial_value}();let total_item_value=e=>{let t=0,i=e.initial_value;for(let a=0;a<e.lvl;a++)t+=i,i=e.value_func(i);return t},LEVELS=[{psvalue:0,rain:0},{psvalue:10,rain:5},{psvalue:100,rain:10},{psvalue:500,rain:12},{psvalue:1e3,rain:15},{psvalue:5e3,rain:17},{psvalue:1e4,rain:18},{psvalue:5e4,rain:19},{psvalue:1e5,rain:20},{psvalue:3e5,rain:21},{psvalue:8e5,rain:22},{psvalue:1e6,rain:23}];const SOUNDS={click:[jsfxr([0,0,.07086974935991196,.45065582613048494,.12451125371771453,.6610070860477287,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,.5]),jsfxr([0,0,.07086974935991196,.35,.12451125371771453,.7,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,.5]),jsfxr([0,0,.1,.35,.12451125371771453,.65,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,.5])],buy:[jsfxr([3,0,.2914228463087029,.39443991332966943,.47848602130372286,.08144714074126518,0,.24222569085835757,0,0,0,-.6369038513918057,.7915717139323191,0,0,0,0,0,1,0,0,0,0,.5]),jsfxr([3,0,.2914228463087029,.39443991332966943,.55,.15,0,.24222569085835757,0,0,0,-.6369038513918057,.7915717139323191,0,0,0,0,0,1,0,0,0,0,.5]),jsfxr([3,0,.25,.39443991332966943,.45,.25,0,.24222569085835757,0,0,0,-.6369038513918057,.7915717139323191,0,0,0,0,0,1,0,0,0,0,.5])]};class ParticleSystem{constructor(t,e){this.lifetime=t,this.func=e,this.particles=[],setInterval(this.update.bind(this),16)}pushParticle(t,e){this.particles.push({life:this.lifetime,element:t,x:e.x,y:e.y,ix:e.x,iy:e.y,alpha:0,rot:0}),t.style.opacity="0"}update(){let t=[];for(let e in this.particles){let i=this.particles[e];i.life-=.016,i.normalized_time=1-i.life/this.lifetime,this.func(i),i.element.style.transform="translateX("+i.x+"px) translateY("+i.y+"px) rotateZ("+i.rot+"deg)",i.element.style.opacity=""+(1-i.alpha),i.life<=0&&t.push(e)}for(let e in t)this.particles[t[e]].element.remove(),this.particles.splice(t[e],1)}}class Counter{constructor(){this.v=0,this.va=0,this.multiplier=1,setInterval(this.update.bind(this),10)}evaluateItems(){this.va=0,this.multiplier=1;for(let t in ITEMS){let i=ITEMS[t];void 0!=i.multiplier?this.multiplier*=i.lvl>0?Math.pow(i.multiplier,i.lvl):1:this.va+=total_item_value(i)}}update(){this.v+=this.va/100}setValue(t){this.v=t}spend(t){this.v-=t}add(t){let i=t*this.multiplier;return this.v+=i,i}addOne(){return this.v+=this.multiplier,this.multiplier}}class Game{constructor(){}init(){this.currentLevel=0,this.cc=gId("counter"),this.cs=gId("per_second"),this.counter=new Counter,this.sb=gId("sb"),this.sb.addEventListener("mousedown",this.click.bind(this)),document.addEventListener("keydown",this.keydown.bind(this)),document.addEventListener("keyup",this.keyup.bind(this)),document.setValue=this.setValue.bind(this),this.click_particle=new ParticleSystem(1,e=>{e.y=lerp(e.y,e.iy-110,.05),e.x=e.ix+10*Math.sin(10*(5*e.ix+e.normalized_time)),e.alpha=e.normalized_time}),this.rain_particle=new ParticleSystem(3,e=>{e.y+=3,e.x=e.ix+10*Math.sin(10*(5*e.ix+e.normalized_time)),e.rot=10*Math.sin(30*e.normalized_time),e.alpha=e.normalized_time}),this.items=[],this.item_container=gId("items");let e=gId("it");for(let t in ITEMS){let i=ITEMS[t],s=e.innerHTML.replace("%1",i.name).replace("%2",i.getDescription(i)).replace("%3",i.cost).replace("%4",i.lvl),a=document.createElement("li");a.classList.add("item"),a.innerHTML=s,this.item_container.appendChild(a),i.dyn_element=a,a.addEventListener("click",this.buy.bind(this,i))}this.item_container.removeChild(e),this.adjustSize(),window.addEventListener("resize",this.adjustSize.bind(this)),this.loadGame(),this.updateItemDescriptions(),this.counter.evaluateItems(),this.checkCurrentLevel(),this.update(),setInterval(this.update.bind(this),100),this.frameCounter=0}adjustSize(){mobile()?this.cc.style["font-size"]=8-this.cc.innerText.length/2+"rem":this.cc.style["font-size"]=10-this.cc.innerText.length/3+"rem";let e=(this.cc.clientHeight-this.cc.firstChild.clientHeight)/2;this.cc.firstChild.style.transform="translateY("+e+"px)",this.item_container.style.height=window.innerHeight-gId("header").offsetHeight+"px"}update(){this.updateCounter(),this.updateItems(),this.updateParticles(),this.adjustSize(),this.saveGame()}updateItems(){let e=0;for(let t in ITEMS){let i=ITEMS[t];i.lvl>0&&(e=parseInt(t)+1),i.dyn_element.classList.add("hide"),i.dyn_element.classList.remove("item_buyable"),i.dyn_element.getElementsByClassName("icost")[0].innerHTML=nfmt2(i.cost),i.dyn_element.getElementsByClassName("ilvl")[0].innerHTML='<span class="_ilvl">x</span>'+i.lvl,i.dyn_element.classList.remove("item_last_child"),i.cost<=this.counter.v&&i.dyn_element.classList.add("item_buyable")}let t=null;if(this.counter.v>9||this.counter.va>0)for(let i=0;i<Math.min(ITEMS.length,e+1);i++){let e=ITEMS[i];e.dyn_element.classList.remove("hide"),t=e.dyn_element}null!=t&&t.classList.add("item_last_child")}updateItemDescriptions(){for(let e in ITEMS){let t=ITEMS[e];t.dyn_element.querySelector(".idesc").innerHTML=t.getDescription(t)}}updateCounter(){this.cc.firstChild.innerText=nfmt2(this.counter.v),this.cs.innerHTML="per second: "+(this.counter.va<1e3?nfmt1(this.counter.va):nfmt2(this.counter.va))}updateParticles(){let e=LEVELS[this.currentLevel];if(e.rain>0&&this.frameCounter%(21-clamp(e.rain,0,20))==0)for(let t=0;t<Math.floor(e.rain/21)+1;t++){let e=Math.random()*window.innerWidth,t=0,i=document.createElement("div");i.classList.add("spacebar"),i.classList.add("spacebar_particle"),this.rain_particle.pushParticle(i,{x:e,y:t}),document.body.insertBefore(i,document.body.firstChild)}this.frameCounter++}buy(e){this.counter.v<e.cost||(playaudio(SOUNDS.buy),this.counter.spend(Math.floor(e.cost)),e.lvl++,e.cost=e.cost_func(e.cost),void 0!=e.initial_value&&(e.value=void 0==e.value?e.value_func(e.initial_value):e.value_func(e.value)),this.counter.evaluateItems(),this.updateItemDescriptions(),this.checkCurrentLevel(),this.update(),this.shake())}checkCurrentLevel(){for(let e in LEVELS){let t=LEVELS[e];this.counter.va>t.psvalue&&(this.currentLevel=e)}}setValue(e){this.counter.setValue(e),this.update()}click(e){let t=this.counter.addOne();if(this.updateCounter(),playaudio(SOUNDS.click),void 0==e){let e=this.sb.getBoundingClientRect(),i=50*Math.random()-25;this.addPointParticle(e.right-e.width/2+i,e.top,t)}else this.addPointParticle(e.clientX,e.clientY,t)}keydown(e){"Space"==e.code&&this.canclick&&(this.click(),sb.classList.add("sb_active"),this.canclick=!1)}keyup(e){"Space"==e.code&&(this.sb.classList.remove("sb_active"),this.canclick=!0)}resetGameSure(){window.confirm("Are you sure you want to reset all the game data?")&&this.resetGame()}resetGame(){this.reloading=!0,window.localStorage.removeItem("spacebar_clicker_game"),window.location.reload(!0)}loadGame(){let e=window.localStorage.getItem("spacebar_clicker_game");if(void 0==e||null==e)return;let t=JSON.parse(e);if(!t.empty){console.dir(t),this.counter.v=t.v;for(let e in ITEMS){if(e>=t.items.length)break;ITEMS[e].cost=t.items[e].cost,ITEMS[e].lvl=t.items[e].lvl,ITEMS[e].value=t.items[e].value}this.reloading=!1}}saveGame(){let e=[];for(let t in ITEMS)e[t]={cost:ITEMS[t].cost,lvl:ITEMS[t].lvl,value:ITEMS[t].value};let t={empty:!1,v:this.counter.v,items:e};this.reloading||window.localStorage.setItem("spacebar_clicker_game",JSON.stringify(t))}addPointParticle(e,t,i){let s=document.createElement("div");s.textContent="+"+i,s.classList.add("particle"),s.classList.add("score");let a=30*Math.random()-30,n=30*Math.random()-20;this.click_particle.pushParticle(s,{x:e+a,y:t+n}),document.body.insertBefore(s,document.body.firstChild)}shake(e=20,t){void 0==t&&(t=gId("game")),co(function*(){for(let i=0;i<e;i++){let e=30*Math.random()-15,i=30*Math.random()-15,s=6*Math.random()-3;t.style.transform="translateX("+e+"px) translateY("+i+"px) rotateZ("+s+"deg)",yield.01}t.style.transform="translateX(0px) translateY(0px) rotateZ(0deg)"})}}let game=new Game;game.init();</script></body></html>
